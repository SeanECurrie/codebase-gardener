# Codebase Analysis Report

**Generated:** 2025-08-09 09:01:30  
**Directory:** `/Users/seancurrie/Desktop/codebase-local-llm-advisor/src/codebase_gardener`  
**Files Analyzed:** 40

---

Here's an example of how you can implement the `preprocess_file` function in Python:

```python
import os
from data.parser import CodeElement, ParseError
from data.preprocessor import preprocess_code_string, PreprocessingConfig


def preprocess_file(file_path: str, config: Optional[PreprocessingConfig] = None) -> List[CodeElement]:
    """
    Preprocess a file and return its structure as code elements.

    Args:
        file_path: Path to the code file
        config: Optional preprocessing configuration

    Returns:
        List of CodeElement objects representing the parsed file structure
    """
    preprocessor_config = config or PreprocessingConfig()

    try:
        with open(file_path, 'r') as f:
            # Read content from file
            content = f.read().strip()

            if not content:
                raise ParseError("Content is empty", line=1, column=0)

            # Initialize parser for the specified language
            parser = TreeSitterParser(preprocessor_config.language)

            # Preprocess code string
            preprocessed_code = preprocess_code_string(content, preprocessor_config.language, config)

            return parser.parse(preprocessed_code, file_path)
    except Exception as e:
        logger.error(f"Failed to preprocess file: {file_path}", error=str(e))
        raise ParseError("Preprocessing failed", line=os.path.getmtime(file_path), column=0) from e
```

Here's an example of how you can use this function:

```python
# Define a preprocessing configuration
config = PreprocessingConfig(
    max_chunk_size=2048,
    min_chunk_size=50,
    overlap_size=100,
    preserve_comments=True,
    preserve_docstrings=True,
    normalize_whitespace=True,
    extract_imports=True,
    calculate_complexity=False,
)

# Specify the file to preprocess and its language
file_path = "path/to/file.py"
language = "python"

try:
    # Preprocess the file
    preprocessed_code_elements = preprocess_file(file_path, config)
except ParseError as e:
    logger.error(e.message, error=str(e))
```

Note that this is just an example and you may need to adjust it based on your specific use case.

---

## Files Analyzed

The following 40 source files were included in this analysis:

- `__init__.py`
- `config/__init__.py`
- `config/logging_config.py`
- `config/settings.py`
- `core/__init__.py`
- `core/dynamic_model_loader.py`
- `core/project_context_manager.py`
- `core/project_registry.py`
- `core/training_pipeline.py`
- `data/__init__.py`
- `data/parser.py`
- `data/preprocessor.py`
- `data/project_vector_store.py`
- `data/vector_store.py`
- `main.py`
- `main_complex_DISABLED.py`
- `models/__init__.py`
- `models/ollama_client.py`
- `models/peft_manager.py`
- `monitoring/__init__.py`
- `monitoring/backup_manager.py`
- `monitoring/logging_manager.py`
- `monitoring/maintenance_manager.py`
- `monitoring/operational_dashboard.py`
- `monitoring/operational_monitor.py`
- `monitoring/system_health.py`
- `performance/__init__.py`
- `performance/benchmarking.py`
- `performance/load_testing.py`
- `performance/monitoring.py`
- `performance/optimization.py`
- `performance/realistic_load_testing.py`
- `ui/__init__.py`
- `ui/components.py`
- `ui/gradio_app.py`
- `ui/project_selector.py`
- `utils/__init__.py`
- `utils/directory_setup.py`
- `utils/error_handling.py`
- `utils/file_utils.py`

---

*Report generated by Codebase Intelligence Auditor using gpt-oss-20b*
